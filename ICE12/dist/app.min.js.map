{"version":3,"sources":["app.js"],"names":["express","require","session","mongoose","passport","MongoStore","routes","app","PORT","process","env","MONGO_STRING","DB_STRING","connect","then","console","log","concat","err","extended","use","resave","saveUninitialized","create","mongoUrl","mongooseConnection","connection","initialize","set","__dirname","listen"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,QAAUD,QAAQ,mBADlBD,WAAUC,QAAQ,iBAGlBE,SAAWF,QAAQ,YAFnBC,IAAOD,QAAGA,OAIVG,SAAWH,QAAQ,YAHzBA,QAAMI,UAAaJ,SAKnBA,QAAQ,qBAER,IAAMK,OAASL,QAAQ,sBAIjBM,IAAMP,UAENQ,KAAOC,QAAQC,IAAIF,MAAQ,IAE3BG,aAAeF,QAAQC,IAAIE,UAEjCT,SAASU,QAAQF,cACZG,KAAKC,QAAQC,IAAR,qBAAAC,OAAiCN,gBAD3C,MANYX,SAAAA,GAAAA,OAAOe,QACnBC,IAAA,gBAAAE,KACAX,IAAMC,IAAIR,QAAGS,WAAA,CAAAU,UAAb,KAMcZ,IAFda,IAIIA,QAAIpB,CAAqBmB,OAAU,gBAGvCE,QAAA,EAKQC,mBAAmB,EAHvBpB,MAAOG,WAACkB,OAAA,CACIC,SAAAb,aACAc,mBAFJtB,SAAAuB,gBAIqBnB,IAAlBa,IAAAhB,SAAAuB,cAJHpB,IAYRa,IAFJhB,SAAAF,WAEAK,IAAIa,IAAIhB,IAAAA,QAORG,IAAIqB,IAAI,QAARrB,GAAAA,OAAAsB,UAAAtB,WACAA,IAAIqB,IAAI,cAAe,OAMtBrB,IAFDuB,OAAAtB,KAAA,WACIO,QAAQC,IAAR,+BAAAC,OAA2CT","file":"app.min.js","sourcesContent":["const express = require('express');\r\nconst session = require('express-session');\r\nconst MongoStore = require('connect-mongo');\r\nconst mongoose = require('mongoose');\r\nconst pug = require('pug');\r\nconst passport = require('passport');\r\nrequire('dotenv').config();\r\nrequire('./config/passport');\r\n\r\nconst routes = require('./routes/router.js');\r\n\r\n\r\n// initialize method\r\nconst app = express();\r\n// use port from env or default to 3000 if not set\r\nconst PORT = process.env.PORT || 3000;\r\n\r\nconst MONGO_STRING = process.env.DB_STRING;\r\n\r\nmongoose.connect(MONGO_STRING)\r\n    .then(console.log(`MongoDB connected ${MONGO_STRING}`))\r\n    .catch(err => console.log('MongoDB ERROR' ,err));\r\n\r\napp.use(express.urlencoded({ extended: false }));\r\n\r\n\r\n// Express session\r\napp.use(\r\n    session({\r\n        secret: \"super secret!\",\r\n        resave: false,\r\n        saveUninitialized: true,\r\n        store: MongoStore.create({ \r\n            mongoUrl: MONGO_STRING,\r\n            mongooseConnection: mongoose.connection }),\r\n    })\r\n);\r\n\r\n// Passport middleware\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\n// configure routes\r\napp.use('/', routes);\r\n\r\n\r\n// setup template engine\r\napp.set(\"views\", `${__dirname}/views`);\r\napp.set(\"view engine\", \"pug\");\r\n\r\n\r\n// Listent on port\r\napp.listen(PORT, () => {\r\n    console.log(`Server is listening on port ${PORT}`);\r\n})"]}